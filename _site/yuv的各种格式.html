<!DOCTYPE html>
<html>
<head>
    <!--
    * Author:         BeiYuu
    * Revised:        pkokp8
    -->
    <meta charset="utf-8" />
    <title>yuv的各种格式 | pkokp8's blog</title>
    <meta name="author" content="pkokp8" />
    <meta name="renderer" content="webkit">
    <meta name="description" content="Everything about pkokp8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" href="/css/default.css" type="text/css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="alternate" type="application/atom+xml" title="Recent Entries" href="/atom.xml" />
    <link rel="alternatecss" type="application/rss+xml" title="“pkokp8's Blog”" href="http://localhost:4000/feed.xml">
    <script src="/js/jquery-1.7.1.min.js" type="text/javascript"></script>
</head>
<body>

    <div class="home-menu">
        <div class="home-icon-con">
            <a class="home-menu-icon" href="/">pkokp8</a>
            <a class="home-follow" href="#" title="Contact Me">+</a>
        </div>
        <div class="home-contact">
            <a href="https://github.com/pkokp8/" target="_blank" style="margin-left:-5px;"><img src="https://github.com/favicon.ico" alt="" width="22"/>我的github</a>
			<!--
				<a href="http://tieba.baidu.com/f?kw=firefox&fr=index&red_tag=x1116532383" target="_blank" style="text-align:center;"><img src="https://tb1.bdstatic.com/tb/favicon.ico" alt="" width="22"/></a>
			-->
            <!--
			<a href="https://leetcode.com/pkokp8/" target="_blank" style="text-align:center;"><img src="https://leetcode.com/favicon-32x32.png" alt="" width="22"/></a>
			-->
            <!--
			<a href="/feed.xml" target="_blank" style="text-align:right"><img src="http://static.firefoxchina.cn/img/201711/7_5a0ba48885d170.png" alt="" width="22"/></a>
			-->
        </div>
		<div class="home-contact">
			<a href="mailto:pkokp8@gmail.com" target="_blank" style="text-align:center;"><img src="/images/mail.jpg" alt="" width="22"/>联系作者</a>
		</div>
    </div>

    <link rel="stylesheet" href="/js/prettify/prettify.css" />
<style type="text/css">
    body { background:#B9D3EE; }
    @media screen and (max-width: 750px){
        body { background:#fff; }
    }
    @media screen and (max-width: 1020px){
        body { background:#fff; }
    }
</style>

<div id="content">
    <div class="entry">
        <h1 class="entry-title"><a href="/yuv%E7%9A%84%E5%90%84%E7%A7%8D%E6%A0%BC%E5%BC%8F" title="yuv的各种格式">yuv的各种格式</a></h1>
        <p class="entry-date">2018-03-13</p>
        <p>yuv的格式非常非常多，也有很多很多种叫法。此处进行一下梳理</p>

<p>yuv和ayuv这个暂且不谈，大小端存储也不谈。</p>

<p>=========================================</p>
<h2 id="采样方式">采样方式</h2>
<p>大致分为yuv444，yuv422，yuv420，yuv411</p>

<p>以下以3平面举例：</p>
<h1 id="yuv444">yuv444</h1>
<p>1个y对应1个u对应1个v，故名yuv444<br />
举例：<br />
y0 y1 y2 y3<br />
u0 u1 u2 u3<br />
v0 v1 v2 v3</p>

<p>y分量的数量 = 宽x高<br />
u分量的数量 = 宽x高<br />
v分量的数量 = 宽x高<br />
总数量 = 宽 x 高 x 3</p>

<h1 id="yuv422">yuv422</h1>
<p>4个y对应2个u对应2个v.故名yuv422<br />
举例：<br />
y0 y1 y2 y3<br />
u0 u1<br />
v0 v1</p>

<p>y分量的数量 = 宽 x 高<br />
u分量的数量 = 宽 x 高 / 2<br />
v分量的数量 = 宽 x 高 / 2<br />
总数量 = 宽 x 高 x 2</p>

<h1 id="yuv420和yuv411">yuv420和yuv411</h1>
<p>虽然名为yuv420，但其实是4个y对应1个u对应1个v。v的数量并不是0。采样方式是一行420，一行402<br />
而411的名字如字面意思，4:1:1的采样<br />
举例：<br />
y0 y1 y2 y3<br />
u0<br />
v0</p>

<p>y分量的数量 = 宽 x 高<br />
u分量的数量 = 宽 x 高 / 4<br />
v分量的数量 = 宽 x 高 / 4<br />
总数量 = 宽 x 高 x 3 / 2</p>

<p>两者采样比例一样，但采样方式不同。<br />
yuv420:水平方向，y每个像素点都采样，uv隔2个像素点采样.垂直方向上，y每个像素点都采样，uv隔2个像素点采样.<br />
        相当于隔行隔列采样一次uv</p>

<p>yuv411:水平方向，y每个像素点都采样，uv隔4个像素点采样</p>

<p>=========================================</p>

<h2 id="存放方式">存放方式</h2>
<p>有planar semiplanar interleaved三种</p>
<h1 id="planar三平面">planar，三平面</h1>

<p>yuv444图示：<br />
y0 y1 y2 y3<br />
u0 u1 u2 u3<br />
v0 v1 v2 v3</p>

<h1 id="semiplanar两平面">semiplanar，两平面</h1>
<p>y0 y1 y2 y3<br />
u0v0 u1v1 u2v2 u3v3</p>

<h1 id="interleaved一平面">interleaved，一平面</h1>
<p>y0u0v0 y1u1v1 y2u2v2 y3u3v3</p>

<p>NOTE:<br />
p即planar<br />
sp即semiplanar</p>

<p>I420: YYYYYYYY UU VV    =&gt;YUV420P<br />
YV12: YYYYYYYY VV UU    =&gt;YUV420P<br />
NV12: YYYYYYYY UVUV     =&gt;YUV420SP<br />
NV21: YYYYYYYY VUVU     =&gt;YUV420SP</p>

<p>=========================================</p>
<h2 id="yuv的存放顺序">yuv的存放顺序</h2>
<p>又分为u在前还是v在前</p>

<h1 id="两平面">两平面</h1>
<p>以下记忆方式：yv12，v在前；yu12，u在前<br />
例如yv12（v在前）:<br />
yyyy<br />
vv<br />
uu</p>

<p>例如yu12，也叫i420（u在前）:<br />
yyyy<br />
uu<br />
vv</p>

<h1 id="三平面">三平面</h1>
<p>以下记忆方式：yuv，012.  y是0，u是1，v是2.  nv12的1在前，即u在前。nv21的2在前，即v在前<br />
例如nv12（u在前）:<br />
yyyy<br />
uvuv</p>

<p>例如nv21（v在前）：<br />
yyyy<br />
vuvu<br />
——–</p>

<p>也有y也参与顺序的交替:</p>
<h1 id="一平面">一平面</h1>
<p>例如：<br />
422: uyvy  vyuy  yuyv yvyu</p>

<p>411:<br />
uyyvyy411======u y y v y y<br />
=========================================</p>
<h2 id="ffmpeg的格式头文件">ffmpeg的格式头文件</h2>

<p>头文件中非常详细的列举了各种格式，虽然其中一些格式很少遇到。</p>
<h1 id="比较常见的">比较常见的</h1>
<pre>
yuv420p:    AV_PIX_FMT_YUV420P
yuv422p:    AV_PIX_FMT_YUV422P
yuv444p:    AV_PIX_FMT_YUV444P
yuv410p:    AV_PIX_FMT_YUV410P
yuv411p:    AV_PIX_FMT_YUV411P
yuv440p:    AV_PIX_FMT_YUV440P

uyvy422:    AV_PIX_FMT_UYVY422
yuyv422:    AV_PIX_FMT_YUYV422
yvyu422:    AV_PIX_FMT_YVYU422
uyyvyy411:    AV_PIX_FMT_UYYVYY411

nv21:        AV_PIX_FMT_NV21                即yuv420sp=====yyyy vuvu
nv12:        AV_PIX_FMT_NV12                即yuv420sp=====yyyy uvuv

nv16:        AV_PIX_FMT_NV16                即yuv422sp=====yyyy uvuvuvuv


yuvj420p:    AV_PIX_FMT_YUVJ420P
yuvj422p:    AV_PIX_FMT_YUVJ422P
yuvj444p:    AV_PIX_FMT_YUVJ444P
yuvj440p:    AV_PIX_FMT_YUVJ440P
yuvj411p:    AV_PIX_FMT_YUVJ411P
</pre>

<h1 id="不常见的">不常见的</h1>
<p>带alpha:</p>
<pre>
yuva420p:    AV_PIX_FMT_YUVA420P  
y400a:        AV_PIX_FMT_Y400A        8位灰度，8位alpha.同 AV_PIX_FMT_YA8  
yuva422p:    AV_PIX_FMT_YUVA422P  
yuva444p:    AV_PIX_FMT_YUVA444P  
</pre>

<p>大小端:</p>
<pre>
    AV_PIX_FMT_YUV420P16LE,  ///&lt; planar YUV 4:2:0, 24bpp, (1 Cr &amp; Cb sample per 2x2 Y samples), little-endian
    AV_PIX_FMT_YUV420P16BE,  ///&lt; planar YUV 4:2:0, 24bpp, (1 Cr &amp; Cb sample per 2x2 Y samples), big-endian
    AV_PIX_FMT_YUV422P16LE,  ///&lt; planar YUV 4:2:2, 32bpp, (1 Cr &amp; Cb sample per 2x1 Y samples), little-endian
    AV_PIX_FMT_YUV422P16BE,  ///&lt; planar YUV 4:2:2, 32bpp, (1 Cr &amp; Cb sample per 2x1 Y samples), big-endian
    AV_PIX_FMT_YUV444P16LE,  ///&lt; planar YUV 4:4:4, 48bpp, (1 Cr &amp; Cb sample per 1x1 Y samples), little-endian
    AV_PIX_FMT_YUV444P16BE,  ///&lt; planar YUV 4:4:4, 48bpp, (1 Cr &amp; Cb sample per 1x1 Y samples), big-endian

    AV_PIX_FMT_YUV420P9BE, ///&lt; planar YUV 4:2:0, 13.5bpp, (1 Cr &amp; Cb sample per 2x2 Y samples), big-endian
    AV_PIX_FMT_YUV420P9LE, ///&lt; planar YUV 4:2:0, 13.5bpp, (1 Cr &amp; Cb sample per 2x2 Y samples), little-endian
    AV_PIX_FMT_YUV420P10BE,///&lt; planar YUV 4:2:0, 15bpp, (1 Cr &amp; Cb sample per 2x2 Y samples), big-endian
    AV_PIX_FMT_YUV420P10LE,///&lt; planar YUV 4:2:0, 15bpp, (1 Cr &amp; Cb sample per 2x2 Y samples), little-endian
    AV_PIX_FMT_YUV422P10BE,///&lt; planar YUV 4:2:2, 20bpp, (1 Cr &amp; Cb sample per 2x1 Y samples), big-endian
    AV_PIX_FMT_YUV422P10LE,///&lt; planar YUV 4:2:2, 20bpp, (1 Cr &amp; Cb sample per 2x1 Y samples), little-endian
    AV_PIX_FMT_YUV444P9BE, ///&lt; planar YUV 4:4:4, 27bpp, (1 Cr &amp; Cb sample per 1x1 Y samples), big-endian
    AV_PIX_FMT_YUV444P9LE, ///&lt; planar YUV 4:4:4, 27bpp, (1 Cr &amp; Cb sample per 1x1 Y samples), little-endian
    AV_PIX_FMT_YUV444P10BE,///&lt; planar YUV 4:4:4, 30bpp, (1 Cr &amp; Cb sample per 1x1 Y samples), big-endian
    AV_PIX_FMT_YUV444P10LE,///&lt; planar YUV 4:4:4, 30bpp, (1 Cr &amp; Cb sample per 1x1 Y samples), little-endian
    AV_PIX_FMT_YUV422P9BE, ///&lt; planar YUV 4:2:2, 18bpp, (1 Cr &amp; Cb sample per 2x1 Y samples), big-endian
    AV_PIX_FMT_YUV422P9LE, ///&lt; planar YUV 4:2:2, 18bpp, (1 Cr &amp; Cb sample per 2x1 Y samples), little-endian

    AV_PIX_FMT_YUVA420P9BE,  ///&lt; planar YUV 4:2:0 22.5bpp, (1 Cr &amp; Cb sample per 2x2 Y &amp; A samples), big-endian
    AV_PIX_FMT_YUVA420P9LE,  ///&lt; planar YUV 4:2:0 22.5bpp, (1 Cr &amp; Cb sample per 2x2 Y &amp; A samples), little-endian
    AV_PIX_FMT_YUVA422P9BE,  ///&lt; planar YUV 4:2:2 27bpp, (1 Cr &amp; Cb sample per 2x1 Y &amp; A samples), big-endian
    AV_PIX_FMT_YUVA422P9LE,  ///&lt; planar YUV 4:2:2 27bpp, (1 Cr &amp; Cb sample per 2x1 Y &amp; A samples), little-endian
    AV_PIX_FMT_YUVA444P9BE,  ///&lt; planar YUV 4:4:4 36bpp, (1 Cr &amp; Cb sample per 1x1 Y &amp; A samples), big-endian
    AV_PIX_FMT_YUVA444P9LE,  ///&lt; planar YUV 4:4:4 36bpp, (1 Cr &amp; Cb sample per 1x1 Y &amp; A samples), little-endian
    AV_PIX_FMT_YUVA420P10BE, ///&lt; planar YUV 4:2:0 25bpp, (1 Cr &amp; Cb sample per 2x2 Y &amp; A samples, big-endian)
    AV_PIX_FMT_YUVA420P10LE, ///&lt; planar YUV 4:2:0 25bpp, (1 Cr &amp; Cb sample per 2x2 Y &amp; A samples, little-endian)
    AV_PIX_FMT_YUVA422P10BE, ///&lt; planar YUV 4:2:2 30bpp, (1 Cr &amp; Cb sample per 2x1 Y &amp; A samples, big-endian)
    AV_PIX_FMT_YUVA422P10LE, ///&lt; planar YUV 4:2:2 30bpp, (1 Cr &amp; Cb sample per 2x1 Y &amp; A samples, little-endian)
    AV_PIX_FMT_YUVA444P10BE, ///&lt; planar YUV 4:4:4 40bpp, (1 Cr &amp; Cb sample per 1x1 Y &amp; A samples, big-endian)
    AV_PIX_FMT_YUVA444P10LE, ///&lt; planar YUV 4:4:4 40bpp, (1 Cr &amp; Cb sample per 1x1 Y &amp; A samples, little-endian)
    AV_PIX_FMT_YUVA420P16BE, ///&lt; planar YUV 4:2:0 40bpp, (1 Cr &amp; Cb sample per 2x2 Y &amp; A samples, big-endian)
    AV_PIX_FMT_YUVA420P16LE, ///&lt; planar YUV 4:2:0 40bpp, (1 Cr &amp; Cb sample per 2x2 Y &amp; A samples, little-endian)
    AV_PIX_FMT_YUVA422P16BE, ///&lt; planar YUV 4:2:2 48bpp, (1 Cr &amp; Cb sample per 2x1 Y &amp; A samples, big-endian)
    AV_PIX_FMT_YUVA422P16LE, ///&lt; planar YUV 4:2:2 48bpp, (1 Cr &amp; Cb sample per 2x1 Y &amp; A samples, little-endian)
    AV_PIX_FMT_YUVA444P16BE, ///&lt; planar YUV 4:4:4 64bpp, (1 Cr &amp; Cb sample per 1x1 Y &amp; A samples, big-endian)
    AV_PIX_FMT_YUVA444P16LE, ///&lt; planar YUV 4:4:4 64bpp, (1 Cr &amp; Cb sample per 1x1 Y &amp; A samples, little-endian)

    AV_PIX_FMT_NV20LE,       ///&lt; interleaved chroma YUV 4:2:2, 20bpp, (1 Cr &amp; Cb sample per 2x1 Y samples), little-endian
    AV_PIX_FMT_NV20BE,       ///&lt; interleaved chroma YUV 4:2:2, 20bpp, (1 Cr &amp; Cb sample per 2x1 Y samples), big-endian

    AV_PIX_FMT_YA16BE,       ///&lt; 16 bits gray, 16 bits alpha (big-endian)
    AV_PIX_FMT_YA16LE,       ///&lt; 16 bits gray, 16 bits alpha (little-endian)

    AV_PIX_FMT_YUV420P12BE, ///&lt; planar YUV 4:2:0,18bpp, (1 Cr &amp; Cb sample per 2x2 Y samples), big-endian
    AV_PIX_FMT_YUV420P12LE, ///&lt; planar YUV 4:2:0,18bpp, (1 Cr &amp; Cb sample per 2x2 Y samples), little-endian
    AV_PIX_FMT_YUV420P14BE, ///&lt; planar YUV 4:2:0,21bpp, (1 Cr &amp; Cb sample per 2x2 Y samples), big-endian
    AV_PIX_FMT_YUV420P14LE, ///&lt; planar YUV 4:2:0,21bpp, (1 Cr &amp; Cb sample per 2x2 Y samples), little-endian
    AV_PIX_FMT_YUV422P12BE, ///&lt; planar YUV 4:2:2,24bpp, (1 Cr &amp; Cb sample per 2x1 Y samples), big-endian
    AV_PIX_FMT_YUV422P12LE, ///&lt; planar YUV 4:2:2,24bpp, (1 Cr &amp; Cb sample per 2x1 Y samples), little-endian
    AV_PIX_FMT_YUV422P14BE, ///&lt; planar YUV 4:2:2,28bpp, (1 Cr &amp; Cb sample per 2x1 Y samples), big-endian
    AV_PIX_FMT_YUV422P14LE, ///&lt; planar YUV 4:2:2,28bpp, (1 Cr &amp; Cb sample per 2x1 Y samples), little-endian
    AV_PIX_FMT_YUV444P12BE, ///&lt; planar YUV 4:4:4,36bpp, (1 Cr &amp; Cb sample per 1x1 Y samples), big-endian
    AV_PIX_FMT_YUV444P12LE, ///&lt; planar YUV 4:4:4,36bpp, (1 Cr &amp; Cb sample per 1x1 Y samples), little-endian
    AV_PIX_FMT_YUV444P14BE, ///&lt; planar YUV 4:4:4,42bpp, (1 Cr &amp; Cb sample per 1x1 Y samples), big-endian
    AV_PIX_FMT_YUV444P14LE, ///&lt; planar YUV 4:4:4,42bpp, (1 Cr &amp; Cb sample per 1x1 Y samples), little-endian

    AV_PIX_FMT_YUV440P10LE, ///&lt; planar YUV 4:4:0,20bpp, (1 Cr &amp; Cb sample per 1x2 Y samples), little-endian
    AV_PIX_FMT_YUV440P10BE, ///&lt; planar YUV 4:4:0,20bpp, (1 Cr &amp; Cb sample per 1x2 Y samples), big-endian
    AV_PIX_FMT_YUV440P12LE, ///&lt; planar YUV 4:4:0,24bpp, (1 Cr &amp; Cb sample per 1x2 Y samples), little-endian
    AV_PIX_FMT_YUV440P12BE, ///&lt; planar YUV 4:4:0,24bpp, (1 Cr &amp; Cb sample per 1x2 Y samples), big-endian
    AV_PIX_FMT_AYUV64LE,    ///&lt; packed AYUV 4:4:4,64bpp (1 Cr &amp; Cb sample per 1x1 Y &amp; A samples), little-endian
    AV_PIX_FMT_AYUV64BE,    ///&lt; packed AYUV 4:4:4,64bpp (1 Cr &amp; Cb sample per 1x1 Y &amp; A samples), big-endian
</pre>

        <div id="disqus_container">
            <class="comment"/>
<div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
	/*	//disqus is walled by the great fire wall XD
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        
        s.src = '//mukosame.disqus.com/embed.js';
        
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
	*/
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
        
        </div>
   </div>
   
    <div class="sidenav">
        <h2>Blog</h2>
        <ul class="artical-list">
        
            <li><a href="/busybox-reboot">reboot流程</a></li>
        
            <li><a href="/%E7%94%B7%E5%8E%95%E6%89%80%E4%BE%BF%E6%B1%A0%E9%97%AE%E9%A2%98">男厕所便池问题</a></li>
        
            <li><a href="/uboot%E7%9A%84%E7%BD%91%E5%8D%A1%E9%A9%B1%E5%8A%A8">uboot的网卡驱动</a></li>
        
            <li><a href="/shell%E7%9A%84source%E5%92%8Cexport">source和export</a></li>
        
            <li><a href="/h264_h265%E7%A0%81%E6%B5%81%E5%88%86%E6%9E%90">h264 h265码流分析</a></li>
        
            <li><a href="/gdb%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8">gdb的简单使用</a></li>
        
            <li><a href="/%E4%B8%A4%E7%A7%8D%E5%8F%98%E9%95%BF%E7%BC%96%E7%A0%81">两种无损变长编码</a></li>
        
            <li><a href="/yuv%E7%9A%84%E5%90%84%E7%A7%8D%E6%A0%BC%E5%BC%8F">yuv的各种格式</a></li>
        
            <li><a href="/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86-%E9%A2%9C%E8%89%B2%E6%B8%90%E5%8F%98-c">颜色渐变</a></li>
        
            <li><a href="/libjpeg-decode-c">libjpeg解码篇</a></li>
        
            <li><a href="/git-simple-use">git的简单操作</a></li>
        
            <li><a href="/python%E7%88%AC%E8%99%AB">python爬虫</a></li>
        
            <li><a href="/python-copy-list">复制一个list</a></li>
        
        </ul>

        <h2>Dump</h2>
        <ul class="artical-list">
        
            <li><a href="/linus%E5%8F%91%E8%A8%80">大喷子linus?</a></li>
        
        </ul>

        <h2>Project</h2>
        <ul class="artical-list">
        
            <li><a href="/test1-test2-test3">pass</a></li>
        
        </ul>
    </div>
</div>

<script src="/js/post.js" type="text/javascript"></script>



<!--
todo: some elements are covered by other.maybe it's because the follow of css or js?
<div id="container"></div>
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
var gitment = new Gitment({
  id: 'location.href', // 可选。默认为 location.href  比如我本人的就删除了
  owner: 'pkokp8',              //比如我的叫anTtutu
  repo: 'pkokp8.github.io',                 //比如我的叫anTtutu.github.io
  oauth: {
    client_id: '0adcc87f3cacd0dc791e',          //比如我的828***********
    client_secret: '9a5bc6ea6b50a06ca18592308039acd982d72381',  //比如我的49e************************
  },
})
gitment.render('container')
</script>
-->


    <script type="text/javascript">
        $(function(){
            $('.home-follow').click(function(e){
                e.preventDefault();

                if($('.home-contact').is(':visible')){
                    $('.home-contact').slideUp(100);
                }else{
                    $('.home-contact').slideDown(100);
                }
            });
        })
    </script>
</body>
</html>
